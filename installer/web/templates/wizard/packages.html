{% extends "base.html" %}

{% block title %}Package Selection - BlockHost Installer{% endblock %}

{% block content %}
<!-- Progress Steps -->
<div class="steps">
    <div class="step completed">
        <span class="step-number">&#10003;</span>
        <span>Network</span>
    </div>
    <div class="step-connector completed"></div>
    <div class="step completed">
        <span class="step-number">&#10003;</span>
        <span>Storage</span>
    </div>
    <div class="step-connector completed"></div>
    <div class="step active">
        <span class="step-number">3</span>
        <span>Packages</span>
    </div>
    <div class="step-connector"></div>
    <div class="step">
        <span class="step-number">4</span>
        <span>Summary</span>
    </div>
</div>

<div class="card">
    <h2>Package Selection</h2>
    <p class="text-muted mb-2">Select the additional packages to install.</p>

    <form method="POST" action="{{ url_for('wizard_packages') }}">
        <div class="form-group">
            {% for pkg in packages %}
            <label class="checkbox-group">
                <input type="checkbox" name="packages" value="{{ pkg.id }}"
                       {% if pkg.default %}checked{% endif %}>
                <div class="checkbox-label">
                    <h4>{{ pkg.name }}</h4>
                    <p>{{ pkg.description }}</p>
                </div>
            </label>
            {% endfor %}
        </div>

        <div class="flex justify-between" style="margin-top: 2rem;">
            <a href="{{ url_for('wizard_storage') }}" class="btn btn-secondary">Back</a>
            <button type="submit" class="btn btn-primary">Continue</button>
        </div>
    </form>
</div>
{% endblock %}
